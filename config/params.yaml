# Rossmann Forecasting Configuration

data:
  raw_path: data/raw
  processed_path: data/processed

features:
  lags: [1, 7, 14, 28]
  rolling_windows: [7, 14, 28, 60]
  include_promo_features: true
  include_competition_features: true

cv:
  method: expanding
  n_folds: 5            # Number of CV folds
  fold_length_days: 42  # 6 weeks
  min_train_days: 365   # 1 year minimum

models:
  baseline_lightgbm: {}

  advanced_lightgbm:
    objective: regression
    metric: rmse
    boosting_type: gbdt
    num_leaves: 50
    learning_rate: 0.03
    feature_fraction: 0.8
    bagging_fraction: 0.7
    bagging_freq: 5
    max_depth: 8
    min_child_samples: 20
    reg_alpha: 0.1
    reg_lambda: 0.1
    num_boost_round: 2000
    early_stopping_rounds: 100

  advanced_xgboost:
    objective: reg:squarederror
    eval_metric: rmse
    max_depth: 8
    learning_rate: 0.03
    subsample: 0.7
    colsample_bytree: 0.8
    min_child_weight: 3
    reg_alpha: 0.1
    reg_lambda: 1.0
    num_boost_round: 2000
    early_stopping_rounds: 100

  advanced_catboost:
    loss_function: RMSE
    eval_metric: RMSE
    depth: 8
    learning_rate: 0.03
    l2_leaf_reg: 3
    random_strength: 0.5
    bagging_temperature: 0.2
    border_count: 128
    iterations: 2000
    early_stopping_rounds: 100

ensemble:
  method: weighted  # 'weighted' or 'stacked'
  meta_model: ridge  # 'ridge' or 'lightgbm' (for stacked)
  optimize_weights: true

mlflow:
  tracking_uri: ./mlruns
  experiment_name: rossmann-forecasting
  artifact_location: ./mlartifacts
  default_artifact_root: ./mlartifacts
  backend_store_uri: ./mlruns
  registry_uri: ./mlruns  # Model registry location
  server:
    host: 127.0.0.1
    port: 5000
